name: Build APK with Buildozer

on:
  push:
    branches:
      - main  # Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… Push Ø±ÙˆÛŒ branch Ø§ØµÙ„ÛŒ

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: ðŸ“¥ Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù…Ø®Ø²Ù†
      uses: actions/checkout@v3

    - name: ðŸ”§ Ù†ØµØ¨ Buildozer Ùˆ Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§
      run: |
        sudo apt update
        sudo apt install -y python3-pip openjdk-17-jdk
        pip install --upgrade Cython pip
        pip install buildozer

    - name: ðŸ“¦ Ø³Ø§Ø®Øª APK
      run: buildozer -v android debug

    - name: ðŸš€ Ø¢Ù¾Ù„ÙˆØ¯ Ø®Ø±ÙˆØ¬ÛŒ APK Ø¨Ù‡ GitHub
      uses: actions/upload-artifact@v3
      with:
        name: MyKivyApp-APK
        path: bin/*.apk

